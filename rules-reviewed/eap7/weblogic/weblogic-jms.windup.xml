<?xml version="1.0"?>
<ruleset xmlns="http://windup.jboss.org/schema/jboss-ruleset" id="weblogic-jms-eap7" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd">

    <metadata>
        <description>
            This ruleset provides analysis of WebLogic proprietary classes and constructs for the Java Message Service (JMS) that might require individual attention when migrating to JBoss EAP 7+.
        </description>
        <dependencies>
            <addon id="org.jboss.windup.rules,windup-rules-javaee,2.7.0.Final" />
            <addon id="org.jboss.windup.rules,windup-rules-java,2.7.0.Final" />
            <addon id="org.jboss.windup.rules,windup-rules-xml,2.7.0.Final" />
        </dependencies>
        <sourceTechnology id="weblogic" />
        <targetTechnology id="eap" versionRange="[7,8)" />
    </metadata>
    <rules>
        <rule id="weblogic-jms-eap7-00000">
            <when>
                <javaclass references="oracle.jms.{*}" />
            </when>
            <perform>
                <classification issue-display-mode="all" title="Oracle JMS" effort="1" category-id="mandatory">
                    <link href="http://docs.oracle.com/cd/B10501_01/appdev.920/a96609/toc.htm" title="Oracle 9i JMS Documentation" />
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEH" title="Java EE 7 - The JMS API Programming Model" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </classification>
            </perform>
        </rule>

        <rule id="weblogic-jms-eap7-01000">
            <when>
                <javaclass references="oracle.jms.AQjmsSession" />
            </when>
            <perform>
                <hint title="Oracle JMS session" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS session.

                        Recommendation:

                        Replace the Oracle JMS session with the Java EE standard API `javax.jms.Session`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEN" title="Java EE 7 - JMS Sessions" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-02000">
            <when>
                <javaclass references="oracle.jms.AQjmsQueueBrowser" />
            </when>
            <perform>
                <hint title="Oracle JMS queue browser" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS queue browser.  

                        Recommendation:

                        Replace the Oracle JMS queue browser with the Java EE standard API `javax.jms.QueueBrowser`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEY" title="Java EE 7 - JMS Queue Browsers" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-03000">
            <when>
                <javaclass references="oracle.jms.AQjmsProducer" />
            </when>
            <perform>
                <hint title="Oracle JMS message producer" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS message producer. 
                        
                        Recommendation:

                        Replace the Oracle JMS message producer with the Java EE standard API `javax.jms.MessageProducer`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEO" title="Java EE 7 - JMS Message Producers" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-04000">
            <when>
                <javaclass references="oracle.jms.AQjmsConsumer" />
            </when>
            <perform>
                <hint title="Oracle JMS message consumer" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS message consumer. 

                        Recommendation:

                        Replace the Oracle JMS message consumer with the Java EE standard API `javax.jms.MessageConsumer`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEP" title="Java EE 7 - JMS Message Consumers" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-05000">
            <when>
                <javaclass references="oracle.jms.AQjmsConnection" />
            </when>
            <perform>
                <hint title="Oracle JMS connection" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS connection. 
                        
                        Recommendation:

                        Replace the Oracle JMS connection with the Java EE standard API `javax.jms.Connection`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEM" title="Java EE 7 - JMS Connections" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-06000">
            <when>
                <javaclass references="oracle.jms.AQjms{type}Message" />
            </when>
            <perform>
                <hint title="Oracle JMS {type}Message" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS {type}Message.

                        Recommendation:

                        Replace the Oracle JMS {type}Message with the Java EE standard API `javax.jms.{type}Message`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCES" title="Java EE 7 - JMS Messages" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
            <where param="type">
                <matches pattern="(Text|Stream|Object|Map|Bytes)?" />
            </where>
        </rule>
        <rule id="weblogic-jms-eap7-07000">
            <when>
                <javaclass references="oracle.jms.AQjmsDestination" />
            </when>
            <perform>
                <hint title="Oracle JMS destination" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS destination. 

                        Recommendation:

                        Replace the Oracle JMS destination with the Java EE standard API `javax.jms.Destination`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEL" title="Java EE 7 - JMS Destinations" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
        </rule>
        <rule id="weblogic-jms-eap7-08000">
            <when>
                <javaclass references="oracle.jms.AQjms{type}ConnectionFactory" />
            </when>
            <perform>
                <hint title="Oracle JMS {type}ConnectionFactory" effort="1" category-id="mandatory">
                    <message>
                        This application contains an Oracle JMS `{type}ConnectionFactory`. 

                        Recommendation:

                        Replace the Oracle JMS `{type}ConnectionFactory` using the Java EE standard API `javax.jms.{type}ConnectionFactory`.
                    </message>
                    <link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#BNCEK" title="Java EE 7 - JMS Connection Factories" />
                    <tag>jms</tag>
                    <tag>weblogic</tag>
                </hint>
            </perform>
            <where param="type">
                <matches pattern="(Topic|Queue)?" />
            </where>
        </rule>
    </rules>
</ruleset>
